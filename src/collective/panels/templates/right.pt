<div class="row"
     tal:define="portlets portlets | python: (1, '2 &darr;');
                 portlets python: tuple(reversed(portlets));
                 spacing spacing | python: 1.125;
                 width python: 50 - 2 * (spacing) + (spacing - 1.125)"
     tal:condition="portlets">
  <div class="cell position-0"
       tal:attributes="style string:width: ${width}%"
       tal:condition="python: len(portlets) &gt; 1">
    <div tal:repeat="portlet python: reversed(portlets[:-1])"
         tal:attributes="class string:content portlet-${repeat/portlet/index}"
         tal:content="structure portlet"
         />
  </div>

  <tal:right define="portlet python: portlets[-1]">
    <div class="cell"
         tal:define="position python: -50 + spacing"
         tal:attributes="style string:width: ${width}%;; margin-left: ${position}%"
         tal:condition="python: len(portlets) &gt; 1">
      <div tal:define="count python: len(portlets)"
           tal:attributes="class string:content portlet-${count}"
           tal:content="structure portlet" />
    </div>

    <div tal:condition="python: len(portlets) == 1">
      <div class="content portlet-0" tal:content="structure portlet" />
    </div>
  </tal:right>
</div>