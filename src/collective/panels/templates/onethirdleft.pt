<div class="row"
     tal:define="portlets portlets | python: (1, '2 &rarr;');
                 spacing spacing | python: 1.125"
     tal:condition="portlets">
  <tal:left define="portlet python: portlets[0]">
    <div class="cell position-0 width-1:3"
         tal:condition="python: len(portlets) &gt; 1">
      <div tal:content="structure portlet" />
    </div>

    <div class="cell position-0 width-full"
         tal:condition="python: len(portlets) == 1">
      <div tal:content="structure portlet" />
    </div>
  </tal:left>

  <tal:right condition="python: len(portlets) &gt; 1">
    <tal:loop define="start python: -100 + (100 / 3.0) + spacing;
                      ratio python: round((66.667 + spacing - 1.125) / (len(portlets) - 1), 3);
                      width python: ratio - 2 * spacing"
              repeat="portlet python: portlets[1:]">
      <div class="cell"
           tal:define="index repeat/portlet/index;
                       position python: start + ratio * index"
           tal:attributes="style string:width: ${width}%;; margin-left: ${position}%">
        <div tal:content="structure portlet" />
      </div>
    </tal:loop>
  </tal:right>
</div>